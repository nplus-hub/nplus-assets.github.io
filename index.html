<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Asset Manager</title>
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.3.0/model-viewer.min.js"></script>
    <style>
        :root { --bg: #f4f7f6; --card: #ffffff; --primary: #007bff; --dark: #24292f; }
        body { font-family: sans-serif; background: var(--bg); margin: 0; padding: 20px; color: #333; line-height: 1.5; }
        .header { max-width: 1200px; margin: 0 auto 30px; display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid #ddd; padding-bottom: 10px; }
        
        /* 管理用ボタン：もっとも安全なリポジトリTOPへのリンク */
        .admin-btn { 
            background: var(--dark); color: white; text-decoration: none; padding: 10px 20px; 
            border-radius: 6px; font-weight: bold; font-size: 14px;
        }

        .container { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; max-width: 1200px; margin: 0 auto; }
        .card { background: var(--card); border-radius: 8px; overflow: hidden; box-shadow: 0 2px 5px rgba(0,0,0,0.1); border: 1px solid #d0d7de; }
        .preview-area { width: 100%; height: 180px; background: #e9ecef; display: flex; align-items: center; justify-content: center; position: relative; }
        .preview-area img, .preview-area video, .preview-area model-viewer { width: 100%; height: 100%; object-fit: contain; }
        
        .card-body { padding: 15px; }
        .file-name { font-weight: bold; font-size: 14px; margin-bottom: 10px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
        .actions { display: flex; gap: 5px; }
        .btn { flex: 1; padding: 8px; font-size: 12px; border-radius: 4px; cursor: pointer; border: 1px solid #ccc; text-align: center; text-decoration: none; color: #333; background: #fff; }
        .btn-primary { background: var(--primary); color: white; border: none; }
    </style>
</head>
<body>

<div class="header">
    <h1>Asset Library</h1>
    <a href="https://github.com/nplus-assets/my-assets" target="_blank" class="admin-btn">
        GitHubで素材を管理
    </a>
</div>

<div class="container" id="gallery"></div>

<script>
    /**
     * 【素材の編集手順】
     * 1. assetsフォルダにファイルをアップロード
     * 2. 下のリストに情報を追加（ファイル名の大文字小文字に注意！）
     */
    const myAssets = [
        { name: "サンプル画像", file: "sample.png", type: "image" },
        { name: "サンプル動画", file: "video.mp4", type: "video" },
        { name: "サンプル音楽", file: "music.mp3", type: "audio" },
        { name: "サンプル3D", file: "model.glb", type: "3d" }
    ];

    // エラー防止のため、現在のページの場所からassetsフォルダを参照
    const folderPath = "./assets/";

    const gallery = document.getElementById('gallery');
    myAssets.forEach(item => {
        const relativeUrl = folderPath + item.file;
        // URLコピー用にブラウザが認識している
